<section class="py-5 bg-light">
  <div class="container">
    <h3 class="text-center mb-5 fw-bold text-primary">Contact Us</h3>

    <div
      class="toast-container position-fixed top-0 end-0 p-3"
      *ngIf="showToast"
      style="z-index: 9999"
    >
      <div class="toast align-items-center show bg-success text-white border-0">
        <div class="d-flex">
          <div class="toast-body">Form submitted successfully!</div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            (click)="showToast = false"
          ></button>
        </div>
      </div>
    </div>

    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
      class="mx-auto"
      style="max-width: 700px"
    >
      <div class="row g-3">
        <div class="col-md-6">
          <label for="name" class="form-label">Full Name</label>
          <input
            id="name"
            type="text"
            formControlName="name"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                form.get('name')?.touched && form.get('name')?.invalid
            }"
          />
          <div
            *ngIf="form.get('name')?.touched && form.get('name')?.invalid"
            class="invalid-feedback"
          >
            Name is required.
          </div>
        </div>

        <div class="col-md-6">
          <label for="email" class="form-label">Email Address</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                form.get('email')?.touched && form.get('email')?.invalid
            }"
          />
          <div
            *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
            class="invalid-feedback"
          >
            <div *ngIf="form.get('email')?.errors?.['required']">
              Email is required.
            </div>
            <div *ngIf="form.get('email')?.errors?.['email']">
              Enter a valid email.
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <label for="phone" class="form-label">Phone Number</label>
          <input
            id="phone"
            type="tel"
            formControlName="phone"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                form.get('phone')?.touched && form.get('phone')?.invalid
            }"
          />
          <div
            *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid"
            class="invalid-feedback"
          >
            Phone must be 10 digits.
          </div>
        </div>

        <div class="col-md-6">
          <label for="subject" class="form-label">Subject</label>
          <input
            id="subject"
            type="text"
            formControlName="subject"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                form.get('subject')?.touched && form.get('subject')?.invalid
            }"
          />
          <div
            *ngIf="form.get('subject')?.touched && form.get('subject')?.invalid"
            class="invalid-feedback"
          >
            Subject is required.
          </div>
        </div>

        <div class="col-12">
          <label for="message" class="form-label">Message</label>
          <textarea
            id="message"
            rows="4"
            formControlName="message"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                form.get('message')?.touched && form.get('message')?.invalid
            }"
          ></textarea>
          <div
            *ngIf="form.get('message')?.touched && form.get('message')?.invalid"
            class="invalid-feedback"
          >
            Message must be at least 5 characters.
          </div>
        </div>

        <div class="text-center mt-4">
          <button class="btn btn-primary px-5 py-2" type="submit">
            Submit
          </button>
        </div>
      </div>
    </form>
  </div>
</section>
